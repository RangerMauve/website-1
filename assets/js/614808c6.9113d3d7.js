(self.webpackChunkstardust_website=self.webpackChunkstardust_website||[]).push([[500],{3905:function(t,e,a){"use strict";a.d(e,{Zo:function(){return s},kt:function(){return m}});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var d=n.createContext({}),p=function(t){var e=n.useContext(d),a=e;return t&&(a="function"==typeof t?t(e):l(l({},e),t)),a},s=function(t){var e=p(t.components);return n.createElement(d.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},c=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,i=t.originalType,d=t.parentName,s=o(t,["components","mdxType","originalType","parentName"]),c=p(a),m=r,k=c["".concat(d,".").concat(m)]||c[m]||u[m]||i;return a?n.createElement(k,l(l({ref:e},s),{},{components:a})):n.createElement(k,l({ref:e},s))}));function m(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=a.length,l=new Array(i);l[0]=c;var o={};for(var d in e)hasOwnProperty.call(e,d)&&(o[d]=e[d]);o.originalType=t,o.mdxType="string"==typeof t?t:r,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},3339:function(t,e,a){"use strict";a.r(e),a.d(e,{frontMatter:function(){return o},contentTitle:function(){return d},metadata:function(){return p},toc:function(){return s},default:function(){return c}});var n=a(2122),r=a(9756),i=(a(7294),a(3905)),l=["components"],o={sidebar_position:2},d="InputMethod",p={unversionedId:"stardust-protocol/server/types/input/InputMethod",id:"stardust-protocol/server/types/input/InputMethod",isDocsHomePage:!1,title:"InputMethod",description:"Derived from Spatial (scalable: false)",source:"@site/docs/stardust-protocol/server/types/input/InputMethod.md",sourceDirName:"stardust-protocol/server/types/input",slug:"/stardust-protocol/server/types/input/InputMethod",permalink:"/docs/stardust-protocol/server/types/input/InputMethod",editUrl:"https://github.com/StardustXR/website/edit/main/docs/stardust-protocol/server/types/input/InputMethod.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"InputHandler",permalink:"/docs/stardust-protocol/server/types/input/InputHandler"},next:{title:"HandInput",permalink:"/docs/stardust-protocol/server/types/input/inputtypes/HandInput"}},s=[{value:"Derived from Spatial (<code>scalable: false</code>)",id:"derived-from-spatial-scalable-false",children:[]},{value:"Internal Properties",id:"internal-properties",children:[{value:"<code>type: uint8</code>",id:"type-uint8",children:[]},{value:"<code>datamap: Dictionary</code>",id:"datamap-dictionary",children:[]}]},{value:"Internal Methods",id:"internal-methods",children:[{value:"<code>distanceToField(string field)</code>",id:"distancetofieldstring-field",children:[]},{value:"<code>serialize()</code>",id:"serialize",children:[]}]},{value:"Serialization",id:"serialization",children:[]},{value:"Datamap",id:"datamap",children:[]},{value:"Methods",id:"methods",children:[{value:"<code>modifyDatamap(Dictionary data)</code>",id:"modifydatamapdictionary-data",children:[]}]}],u={toc:s};function c(t){var e=t.components,a=(0,r.Z)(t,l);return(0,i.kt)("wrapper",(0,n.Z)({},u,a,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"inputmethod"},"InputMethod"),(0,i.kt)("h2",{id:"derived-from-spatial-scalable-false"},"Derived from ",(0,i.kt)("a",{parentName:"h2",href:"/docs/stardust-protocol/server/types/Spatial"},"Spatial")," (",(0,i.kt)("inlineCode",{parentName:"h2"},"scalable: false"),")"),(0,i.kt)("p",null,"Represents an input device generically, with specifics being fleshed out in subclasses."),(0,i.kt)("h2",{id:"internal-properties"},"Internal Properties"),(0,i.kt)("h3",{id:"type-uint8"},(0,i.kt)("inlineCode",{parentName:"h3"},"type: uint8")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null}),(0,i.kt)("th",{parentName:"tr",align:null},"Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Global")),(0,i.kt)("td",{parentName:"tr",align:null},"A non-spatial input, used for power buttons and system volume and such")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Controller")),(0,i.kt)("td",{parentName:"tr",align:null},"Contains a pose and datamap for buttons, trackpad, joystick, grip, trigger, etc.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"2"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/stardust-protocol/server/types/input/inputtypes/PointerInput"},(0,i.kt)("inlineCode",{parentName:"a"},"PointerInput"))),(0,i.kt)("td",{parentName:"tr",align:null},"Defined by origin, direction, and tilt with datamap for buttons, trackpad, etc.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"3"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/stardust-protocol/server/types/input/inputtypes/HandInput"},(0,i.kt)("inlineCode",{parentName:"a"},"HandInput"))),(0,i.kt)("td",{parentName:"tr",align:null},"Contains a full 27-bone hand skeleton (including forearm) and datamap for abstractions like grip, pinch distance/point, etc.")))),(0,i.kt)("h3",{id:"datamap-dictionary"},(0,i.kt)("inlineCode",{parentName:"h3"},"datamap: Dictionary")),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"#datamap"},"Datamap:")),(0,i.kt)("h2",{id:"internal-methods"},"Internal Methods"),(0,i.kt)("h3",{id:"distancetofieldstring-field"},(0,i.kt)("inlineCode",{parentName:"h3"},"distanceToField(string field)")),(0,i.kt)("p",null,"Returns the distance from this input to a field in meters. ",(0,i.kt)("inlineCode",{parentName:"p"},"field")," is the name of the field, not the full path."),(0,i.kt)("h3",{id:"serialize"},(0,i.kt)("inlineCode",{parentName:"h3"},"serialize()")),(0,i.kt)("p",null,"Returns a serialized version of the InputMethod, each serialized schema is shown under #Serialization in the respective Input subclasses."),(0,i.kt)("h2",{id:"serialization"},"Serialization"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Key"),(0,i.kt)("th",{parentName:"tr",align:null},"Value Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"type"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"int"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"distance"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"float"))))),(0,i.kt)("h2",{id:"datamap"},"Datamap"),(0,i.kt)("p",null,"The datamap is a dictionary containing abstracted and raw data related to the input that clients can use to analyze input in the most optimal way. It has keys of type ",(0,i.kt)("inlineCode",{parentName:"p"},"Key"),"(Flexbuffers-specific, in any other language use a ",(0,i.kt)("inlineCode",{parentName:"p"},"String"),") and values:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Example Uses"),(0,i.kt)("th",{parentName:"tr",align:null},"Usage Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"bool")),(0,i.kt)("td",{parentName:"tr",align:null},"Digital buttons"),(0,i.kt)("td",{parentName:"tr",align:null},"If values are analog, use a ",(0,i.kt)("inlineCode",{parentName:"td"},"float")," instead with ",(0,i.kt)("inlineCode",{parentName:"td"},"1.0")," being considered ",(0,i.kt)("inlineCode",{parentName:"td"},"true"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"float")),(0,i.kt)("td",{parentName:"tr",align:null},"Analog trigger, grip"),(0,i.kt)("td",{parentName:"tr",align:null},"For values such as grip/trigger, make the range ",(0,i.kt)("inlineCode",{parentName:"td"},"0.0"),"-",(0,i.kt)("inlineCode",{parentName:"td"},"1.0"),", for something like a scroll wheel ",(0,i.kt)("inlineCode",{parentName:"td"},"-0.5"),"-",(0,i.kt)("inlineCode",{parentName:"td"},"0.5"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Vector2")),(0,i.kt)("td",{parentName:"tr",align:null},"Touchpad, joystick"),(0,i.kt)("td",{parentName:"tr",align:null},"For values such as trackpad and joystick, make each component in the range of ",(0,i.kt)("inlineCode",{parentName:"td"},"-0.5"),"-",(0,i.kt)("inlineCode",{parentName:"td"},"0.5")," and calculate+apply deadzone before setting these values.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Vector3")),(0,i.kt)("td",{parentName:"tr",align:null},"Pinch position, grip axis vector"),(0,i.kt)("td",{parentName:"tr",align:null},"For points and directions, make this a value inside the  InputMethod's local space. Raw hand pose data should not be put in the datamap.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null},"Input device type/name"),(0,i.kt)("td",{parentName:"tr",align:null},"Device name such as ",(0,i.kt)("inlineCode",{parentName:"td"},'"valveindex"')," and device type such as ",(0,i.kt)("inlineCode",{parentName:"td"},'"controller"')," on a PointerInput. Useful for client devs to customize input to work best with these devices.")))),(0,i.kt)("p",null,"Standard supported datamap keys will be put in the individual type's documentation, however you can put more data in and some input handlers may be able to use that data for better interactions."),(0,i.kt)("h2",{id:"methods"},"Methods"),(0,i.kt)("h3",{id:"modifydatamapdictionary-data"},(0,i.kt)("inlineCode",{parentName:"h3"},"modifyDatamap(Dictionary data)")),(0,i.kt)("p",null,"Merges the datamap of this ",(0,i.kt)("a",{parentName:"p",href:"InputMethod"},"InputMethod")," with ",(0,i.kt)("inlineCode",{parentName:"p"},"data"),". Each key here will add to the datamap if not present and set the existing value if present. Any key not present in ",(0,i.kt)("inlineCode",{parentName:"p"},"data")," will be unaffected."))}c.isMDXComponent=!0}}]);