(self.webpackChunkstardust_website=self.webpackChunkstardust_website||[]).push([[500],{3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return s},kt:function(){return m}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var d=a.createContext({}),p=function(t){var e=a.useContext(d),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},s=function(t){var e=p(t.components);return a.createElement(d.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,d=t.parentName,s=l(t,["components","mdxType","originalType","parentName"]),c=p(n),m=r,h=c["".concat(d,".").concat(m)]||c[m]||u[m]||i;return n?a.createElement(h,o(o({ref:e},s),{},{components:n})):a.createElement(h,o({ref:e},s))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,o=new Array(i);o[0]=c;var l={};for(var d in e)hasOwnProperty.call(e,d)&&(l[d]=e[d]);l.originalType=t,l.mdxType="string"==typeof t?t:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},3339:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return l},contentTitle:function(){return d},metadata:function(){return p},toc:function(){return s},default:function(){return c}});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),o=["components"],l={sidebar_position:2},d="InputMethod",p={unversionedId:"stardust-protocol/server/types/input/InputMethod",id:"stardust-protocol/server/types/input/InputMethod",isDocsHomePage:!1,title:"InputMethod",description:"Represents an input device generically, with specifics being fleshed out in subclasses.",source:"@site/docs/stardust-protocol/server/types/input/InputMethod.md",sourceDirName:"stardust-protocol/server/types/input",slug:"/stardust-protocol/server/types/input/InputMethod",permalink:"/docs/stardust-protocol/server/types/input/InputMethod",editUrl:"https://github.com/StardustXR/website/edit/main/docs/stardust-protocol/server/types/input/InputMethod.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"InputHandler",permalink:"/docs/stardust-protocol/server/types/input/InputHandler"},next:{title:"HandInput",permalink:"/docs/stardust-protocol/server/types/input/inputtypes/HandInput"}},s=[{value:"Internal Properties",id:"internal-properties",children:[{value:"<code>type: uint8</code>",id:"type-uint8",children:[]},{value:"<code>datamap: Dictionary</code>",id:"datamap-dictionary",children:[]}]},{value:"Internal Methods",id:"internal-methods",children:[{value:"<code>distanceToField(string field)</code>",id:"distancetofieldstring-field",children:[]},{value:"<code>serialize()</code>",id:"serialize",children:[]}]},{value:"Serialization",id:"serialization",children:[]},{value:"Datamap",id:"datamap",children:[]},{value:"Methods",id:"methods",children:[{value:"<code>setPosition(Vector3 point)</code>",id:"setpositionvector3-point",children:[]},{value:"<code>modifyDatamap(Dictionary data)</code>",id:"modifydatamapdictionary-data",children:[]}]}],u={toc:s};function c(t){var e=t.components,n=(0,r.Z)(t,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"inputmethod"},"InputMethod"),(0,i.kt)("p",null,"Represents an input device generically, with specifics being fleshed out in subclasses."),(0,i.kt)("h2",{id:"internal-properties"},"Internal Properties"),(0,i.kt)("h3",{id:"type-uint8"},(0,i.kt)("inlineCode",{parentName:"h3"},"type: uint8")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null}),(0,i.kt)("th",{parentName:"tr",align:null},"Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Global")),(0,i.kt)("td",{parentName:"tr",align:null},"A non-spatial input, used for power buttons and system volume and such")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Controller")),(0,i.kt)("td",{parentName:"tr",align:null},"Contains a pose and datamap for buttons, trackpad, joystick, grip, trigger, etc.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"2"),(0,i.kt)("td",{parentName:"tr",align:null},"[","[PointerInput]","]"),(0,i.kt)("td",{parentName:"tr",align:null},"Defined by origin, direction, and tilt with datamap for buttons, trackpad, etc.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"3"),(0,i.kt)("td",{parentName:"tr",align:null},"[","[HandInput]","]"),(0,i.kt)("td",{parentName:"tr",align:null},"Contains a full 27-bone hand skeleton (including forearm) and datamap for abstractions like grip, pinch distance/point, etc.")))),(0,i.kt)("h3",{id:"datamap-dictionary"},(0,i.kt)("inlineCode",{parentName:"h3"},"datamap: Dictionary")),(0,i.kt)("p",null,"See #Datamap:"),(0,i.kt)("h2",{id:"internal-methods"},"Internal Methods"),(0,i.kt)("h3",{id:"distancetofieldstring-field"},(0,i.kt)("inlineCode",{parentName:"h3"},"distanceToField(string field)")),(0,i.kt)("p",null,"Returns the distance from this input to a field in meters. ",(0,i.kt)("inlineCode",{parentName:"p"},"field")," is the name of the field, not the full path."),(0,i.kt)("h3",{id:"serialize"},(0,i.kt)("inlineCode",{parentName:"h3"},"serialize()")),(0,i.kt)("p",null,"Returns a serialized version of the InputMethod, each serialized schema is shown under #Serialization in the respective Input subclasses."),(0,i.kt)("h2",{id:"serialization"},"Serialization"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Key"),(0,i.kt)("th",{parentName:"tr",align:null},"Value Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"type"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"int"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"distance"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"float"))))),(0,i.kt)("h2",{id:"datamap"},"Datamap"),(0,i.kt)("p",null,"The datamap is a dictionary containing abstracted and raw data related to the input that clients can use to analyze input in the most optimal way. It has keys of type ",(0,i.kt)("inlineCode",{parentName:"p"},"Key"),"(Flexbuffers-specific, in any other language use a ",(0,i.kt)("inlineCode",{parentName:"p"},"String"),") and values:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Example Uses"),(0,i.kt)("th",{parentName:"tr",align:null},"Usage Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"bool")),(0,i.kt)("td",{parentName:"tr",align:null},"Digital buttons"),(0,i.kt)("td",{parentName:"tr",align:null},"If values are analog, use a ",(0,i.kt)("inlineCode",{parentName:"td"},"float")," instead with ",(0,i.kt)("inlineCode",{parentName:"td"},"1.0")," being considered ",(0,i.kt)("inlineCode",{parentName:"td"},"true"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"float")),(0,i.kt)("td",{parentName:"tr",align:null},"Analog trigger, grip"),(0,i.kt)("td",{parentName:"tr",align:null},"For values such as grip/trigger, make the range ",(0,i.kt)("inlineCode",{parentName:"td"},"0.0"),"-",(0,i.kt)("inlineCode",{parentName:"td"},"1.0"),", for something like a scroll wheel ",(0,i.kt)("inlineCode",{parentName:"td"},"-0.5"),"-",(0,i.kt)("inlineCode",{parentName:"td"},"0.5"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Vector2")),(0,i.kt)("td",{parentName:"tr",align:null},"Touchpad, joystick"),(0,i.kt)("td",{parentName:"tr",align:null},"For values such as trackpad and joystick, make each component in the range of ",(0,i.kt)("inlineCode",{parentName:"td"},"-0.5"),"-",(0,i.kt)("inlineCode",{parentName:"td"},"0.5")," and calculate+apply deadzone before setting these values.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Vector3")),(0,i.kt)("td",{parentName:"tr",align:null},"Pinch position, grip axis vector"),(0,i.kt)("td",{parentName:"tr",align:null},"For points and directions, make this a value inside the  InputMethod's local space. Raw hand pose data should not be put in the datamap.")))),(0,i.kt)("p",null,"Standard supported datamap keys will be put in the individual type's documentation, however you can put more data in and some input handlers may be able to use that data for better interactions."),(0,i.kt)("h2",{id:"methods"},"Methods"),(0,i.kt)("h3",{id:"setpositionvector3-point"},(0,i.kt)("inlineCode",{parentName:"h3"},"setPosition(Vector3 point)")),(0,i.kt)("p",null,"Sets the position of this [","[InputMethod]","]. This pose also defines the main interaction point."),(0,i.kt)("h3",{id:"modifydatamapdictionary-data"},(0,i.kt)("inlineCode",{parentName:"h3"},"modifyDatamap(Dictionary data)")),(0,i.kt)("p",null,"Modifies the datamap of this [","[InputMethod]","]. Each key here will add to the datamap if not present and set the existing value if present. Any key not present in ",(0,i.kt)("inlineCode",{parentName:"p"},"data")," will be unaffected."))}c.isMDXComponent=!0}}]);